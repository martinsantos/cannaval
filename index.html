<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Cannabis Farm Sim</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Changa:wght@600&family=Nunito:wght@400;600;700&display=swap" rel="stylesheet">
    <style>
      html {
        height: 100%;
      }
      body {
        height: 100vh;
        font-family: 'Nunito', sans-serif;
        overflow: hidden; /* Prevent scrollbars from the canvas */
        background-color: #87CEEB; /* fallback sky color */
        background-image: url('data:image/svg,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%23ffffff" fill-opacity="0.1"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
      }
      #root {
        height: 100%;
      }
      h1, h2, h3, h4, .font-header {
        font-family: 'Changa', sans-serif;
      }
      @keyframes day-toast-animation {
        0% { opacity: 0; transform: translateX(100%); }
        20% { opacity: 1; transform: translateX(0); }
        80% { opacity: 1; transform: translateX(0); }
        100% { opacity: 0; transform: translateX(100%); }
      }
      .day-toast {
        animation: day-toast-animation 2.5s ease-in-out forwards;
      }
      @keyframes modal-fade-in {
        from { opacity: 0; transform: scale(0.95); }
        to { opacity: 1; transform: scale(1); }
      }
      .modal-content {
        animation: modal-fade-in 0.3s ease-out forwards;
      }
       @keyframes glowing-border-animation {
        0% { border-color: #ef4444; box-shadow: 0 0 5px #ef4444; }
        50% { border-color: #f87171; box-shadow: 0 0 15px #f87171; }
        100% { border-color: #ef4444; box-shadow: 0 0 5px #ef4444; }
      }
      .stress-pulse {
        animation: glowing-border-animation 1.5s infinite;
        border-radius: 9999px; /* Ensure glow is rounded */
      }
       @keyframes tutorial-pulse-animation {
        0% { box-shadow: 0 0 0 9999px rgba(0,0,0,0.7), 0 0 0 0 rgba(253, 224, 71, 0.7); } /* yellow-300 */
        70% { box-shadow: 0 0 0 9999px rgba(0,0,0,0.7), 0 0 0 10px rgba(253, 224, 71, 0); }
        100% { box-shadow: 0 0 0 9999px rgba(0,0,0,0.7), 0 0 0 0 rgba(253, 224, 71, 0); }
      }
      .tutorial-highlight-target {
        position: relative;
        z-index: 101; /* Above the tutorial backdrop */
        pointer-events: auto !important;
      }
      .tutorial-highlight-target.tutorial-no-events {
        pointer-events: none !important;
      }
      .tutorial-backdrop {
        position: absolute;
        inset: 0;
        z-index: 100;
        pointer-events: none;
        /* backdrop-filter: blur(4px); */ /* This was preventing pointer events from reaching the canvas */
      }
      .custom-scrollbar::-webkit-scrollbar {
        width: 8px;
      }
      .custom-scrollbar::-webkit-scrollbar-track {
        background: #5a3e2b;
        border-radius: 10px;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb {
        background: #8a6e5a;
        border-radius: 10px;
        border: 2px solid #5a3e2b;
      }
      .custom-scrollbar::-webkit-scrollbar-thumb:hover {
        background: #a07b5f;
      }
      .custom-scrollbar {
        -webkit-overflow-scrolling: touch;
      }
      @keyframes float-animation {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
      }
      .status-indicator-float {
        animation: float-animation 2s ease-in-out infinite;
      }
      /* Custom Slider Styles */
      .custom-slider {
        -webkit-appearance: none;
        appearance: none;
        width: 100%;
        height: 8px;
        background: #4a2e1a; /* Darker wood color for the track */
        border-radius: 5px;
        outline: none;
        opacity: 0.8;
        transition: opacity .2s;
        border: 1px solid #3a1e0a;
        box-shadow: inset 0 1px 3px rgba(0,0,0,0.5);
      }

      .custom-slider:hover {
        opacity: 1;
      }

      /* Thumb for Webkit browsers (Chrome, Safari) */
      .custom-slider::-webkit-slider-thumb {
        -webkit-appearance: none;
        appearance: none;
        width: 20px;
        height: 20px;
        background: #fde047; /* Bright yellow */
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #c0a000;
        box-shadow: 0 0 5px rgba(253, 224, 71, 0.5);
        transition: background-color .2s, transform .2s;
      }

      .custom-slider::-webkit-slider-thumb:hover {
          background-color: #fef08a; /* Lighter yellow */
          transform: scale(1.1);
      }

      /* Thumb for Firefox */
      .custom-slider::-moz-range-thumb {
        width: 20px;
        height: 20px;
        background: #fde047;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid #c0a000;
        box-shadow: 0 0 5px rgba(253, 224, 71, 0.5);
        transition: background-color .2s, transform .2s;
      }

      .custom-slider::-moz-range-thumb:hover {
          background-color: #fef08a;
          transform: scale(1.1);
      }

      /* New UI styles */
      .hud-panel {
        background-color: #6b4628;
        background-image: url("https://www.transparenttextures.com/patterns/wood-pattern.png");
        border: 2px solid #4a2e1a;
        box-shadow: inset 0 0 10px rgba(0,0,0,0.5), 0 4px 6px rgba(0,0,0,0.3);
        border-radius: 0.5rem;
      }
      .action-button {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        width: 4.5rem; /* 72px */
        height: 4.5rem; /* 72px */
        background-color: #8a5e3c;
        border: 2px solid #4a2e1a;
        border-radius: 0.5rem;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        transition: all 0.2s ease-out;
      }
      .action-button:not(:disabled) {
        cursor: pointer;
      }
      .action-button:not(:disabled):hover {
        background-color: #a07b5f;
        transform: translateY(-2px);
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      }
      .action-button:not(:disabled):active {
        transform: translateY(0);
        box-shadow: inset 0 2px 4px rgba(0,0,0,0.4);
      }
      .action-button:disabled {
        opacity: 0.5;
        cursor: not-allowed;
      }
      .action-button .resource-count {
        position: absolute;
        top: -4px;
        right: -4px;
        background-color: #3a1e0a;
        color: #fde047;
        font-size: 0.65rem;
        font-weight: bold;
        padding: 1px 4px;
        border-radius: 9999px;
        border: 1px solid #fde047;
      }

      /* Seed Packet Styles */
      .seed-packet {
        position: relative;
        background-color: #f5eadd;
        background-image: url('https://www.transparenttextures.com/patterns/paper-fibers.png');
        border: 1px solid #dcd0b8;
        border-radius: 8px;
        padding: 12px;
        box-shadow: 0 4px 8px rgba(0,0,0,0.2);
        transition: transform 0.2s ease-out, box-shadow 0.2s ease-out;
        overflow: hidden;
      }
      .seed-packet:not(:disabled):hover {
        transform: translateY(-4px);
        box-shadow: 0 8px 16px rgba(0,0,0,0.3);
      }
      .seed-packet:disabled {
        opacity: 0.6;
        cursor: not-allowed;
        filter: grayscale(50%);
      }
      .seed-packet::before {
        content: '';
        position: absolute;
        top: 4px;
        bottom: 4px;
        left: 4px;
        right: 4px;
        border: 2px dashed #c4b59d;
        border-radius: 4px;
      }
      .seed-packet-preview {
        width: 120px;
        height: 120px;
        margin: 0 auto;
        border-radius: 9999px;
        background-color: #dcd0b8;
        border: 4px solid #fff;
        box-shadow: inset 0 0 10px rgba(0,0,0,0.3);
        overflow: hidden;
      }
      .strain-type-banner {
        padding: 2px 12px;
        border-radius: 4px;
        font-size: 0.7rem;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 0.05em;
        box-shadow: 0 1px 2px rgba(0,0,0,0.2);
        border: 1px solid rgba(0,0,0,0.2);
      }
      .price-tag {
        position: absolute;
        top: 8px;
        right: 8px;
        width: 48px;
        height: 48px;
        background-color: #fde047;
        color: #854d0e; /* amber-800 */
        border-radius: 9999px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 1.125rem;
        border: 2px solid #fff;
        box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        transform: rotate(10deg);
      }

    </style>
</head>
  <body class="bg-sky-400">
    <div id="root"></div>
    <script type="module" src="/index.tsx"></script>
  </body>
</html>